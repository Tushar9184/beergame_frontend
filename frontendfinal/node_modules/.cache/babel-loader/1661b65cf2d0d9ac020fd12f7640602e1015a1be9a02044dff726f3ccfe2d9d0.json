{"ast":null,"code":"import { myAxios } from \"./Helper\";\n\n// ✅ LOGIN\nexport const loginUser = userData => {\n  return myAxios.post(\"/auth/login\", userData).then(res => {\n    const {\n      token,\n      username,\n      email\n    } = res.data;\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"username\", username);\n    localStorage.setItem(\"email\", email);\n    return res.data;\n  });\n};\n\n// Step 1: Get OTP from backend\nexport const getOtpFromBackend = userData => {\n  return myAxios.post(\"/auth/register\", userData).then(res => res.data); // { token, tokenIssuedAt }\n};\n\n// Step 2: Register user after OTP success\nexport const registerUser = userData => {\n  return myAxios.post(\"/auth/register\", userData).then(res => {\n    const data = res.data;\n\n    // backend should return token + user info\n    localStorage.setItem(\"token\", data.token);\n    localStorage.setItem(\"username\", data.username);\n    localStorage.setItem(\"email\", data.email);\n    return data;\n  });\n};\n\n// ✅ CREATE LOBBY\nexport const createLobby = data => {\n  return myAxios.post(\"/lobby/create\", data).then(res => {\n    const {\n      role\n    } = data;\n    const {\n      roomId\n    } = res.data;\n    localStorage.setItem(\"role\", role);\n    localStorage.setItem(\"roomId\", roomId);\n    return res.data;\n  });\n};\n\n// ✅ CREATE ROOM\nexport const createRoom = data => {\n  return myAxios.post(\"/room/create\", data).then(res => {\n    const {\n      role\n    } = data;\n    const {\n      roomId\n    } = res.data;\n    localStorage.setItem(\"role\", role);\n    localStorage.setItem(\"roomId\", roomId);\n    return res.data;\n  });\n};","map":{"version":3,"names":["myAxios","loginUser","userData","post","then","res","token","username","email","data","localStorage","setItem","getOtpFromBackend","registerUser","createLobby","role","roomId","createRoom"],"sources":["C:/java project/The-Beer-Game/frontendfinal/src/services/user-service.jsx"],"sourcesContent":["import { myAxios } from \"./Helper\";\r\n\r\n// ✅ LOGIN\r\nexport const loginUser = (userData) => {\r\n  return myAxios.post(\"/auth/login\", userData)\r\n    .then((res) => {\r\n      const { token, username, email } = res.data;\r\n\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"username\", username);\r\n      localStorage.setItem(\"email\", email);\r\n\r\n      return res.data;\r\n    });\r\n};\r\n\r\n// Step 1: Get OTP from backend\r\nexport const getOtpFromBackend = (userData) => {\r\n  return myAxios.post(\"/auth/register\", userData)\r\n\r\n    .then((res) => res.data); // { token, tokenIssuedAt }\r\n};\r\n\r\n// Step 2: Register user after OTP success\r\nexport const registerUser = (userData) => {\r\n  return myAxios.post(\"/auth/register\", userData)\r\n    .then((res) => {\r\n      const data = res.data;\r\n\r\n      // backend should return token + user info\r\n      localStorage.setItem(\"token\", data.token);\r\n      localStorage.setItem(\"username\", data.username);\r\n      localStorage.setItem(\"email\", data.email);\r\n\r\n      return data;\r\n    });\r\n};\r\n\r\n\r\n// ✅ CREATE LOBBY\r\nexport const createLobby = (data) => {\r\n  return myAxios.post(\"/lobby/create\", data)\r\n    .then((res) => {\r\n      const { role } = data;\r\n      const { roomId } = res.data;\r\n\r\n      localStorage.setItem(\"role\", role);\r\n      localStorage.setItem(\"roomId\", roomId);\r\n\r\n      return res.data;\r\n    });\r\n};\r\n\r\n// ✅ CREATE ROOM\r\nexport const createRoom = (data) => {\r\n  return myAxios.post(\"/room/create\", data)\r\n    .then((res) => {\r\n      const { role } = data;\r\n      const { roomId } = res.data;\r\n\r\n      localStorage.setItem(\"role\", role);\r\n      localStorage.setItem(\"roomId\", roomId);\r\n\r\n      return res.data;\r\n    });\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,UAAU;;AAElC;AACA,OAAO,MAAMC,SAAS,GAAIC,QAAQ,IAAK;EACrC,OAAOF,OAAO,CAACG,IAAI,CAAC,aAAa,EAAED,QAAQ,CAAC,CACzCE,IAAI,CAAEC,GAAG,IAAK;IACb,MAAM;MAAEC,KAAK;MAAEC,QAAQ;MAAEC;IAAM,CAAC,GAAGH,GAAG,CAACI,IAAI;IAE3CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,KAAK,CAAC;IACpCI,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IAC1CG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;IAEpC,OAAOH,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMG,iBAAiB,GAAIV,QAAQ,IAAK;EAC7C,OAAOF,OAAO,CAACG,IAAI,CAAC,gBAAgB,EAAED,QAAQ,CAAC,CAE5CE,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA,OAAO,MAAMI,YAAY,GAAIX,QAAQ,IAAK;EACxC,OAAOF,OAAO,CAACG,IAAI,CAAC,gBAAgB,EAAED,QAAQ,CAAC,CAC5CE,IAAI,CAAEC,GAAG,IAAK;IACb,MAAMI,IAAI,GAAGJ,GAAG,CAACI,IAAI;;IAErB;IACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACH,KAAK,CAAC;IACzCI,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,IAAI,CAACF,QAAQ,CAAC;IAC/CG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACD,KAAK,CAAC;IAEzC,OAAOC,IAAI;EACb,CAAC,CAAC;AACN,CAAC;;AAGD;AACA,OAAO,MAAMK,WAAW,GAAIL,IAAI,IAAK;EACnC,OAAOT,OAAO,CAACG,IAAI,CAAC,eAAe,EAAEM,IAAI,CAAC,CACvCL,IAAI,CAAEC,GAAG,IAAK;IACb,MAAM;MAAEU;IAAK,CAAC,GAAGN,IAAI;IACrB,MAAM;MAAEO;IAAO,CAAC,GAAGX,GAAG,CAACI,IAAI;IAE3BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEI,IAAI,CAAC;IAClCL,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEK,MAAM,CAAC;IAEtC,OAAOX,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMQ,UAAU,GAAIR,IAAI,IAAK;EAClC,OAAOT,OAAO,CAACG,IAAI,CAAC,cAAc,EAAEM,IAAI,CAAC,CACtCL,IAAI,CAAEC,GAAG,IAAK;IACb,MAAM;MAAEU;IAAK,CAAC,GAAGN,IAAI;IACrB,MAAM;MAAEO;IAAO,CAAC,GAAGX,GAAG,CAACI,IAAI;IAE3BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEI,IAAI,CAAC;IAClCL,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEK,MAAM,CAAC;IAEtC,OAAOX,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}